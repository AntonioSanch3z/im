<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Source Documentation &mdash; IM 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="_static/scrolls.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/grycap.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="IM 1.0.0 documentation" href="index.html" /> 
  </head>
  <body>
<div id="main-wrapper">
    <div id="logo">
       <div class="img"><img height="90" src="_static/logo.png"></img></div>
    </div>
    <div class="break hole"></div>
    <div id="menu">
      <div id="menu-text">
         <ul>
            <li><a href="../index.php">Home</a>
            </li><li><a href="../overview.php">Overview</a>            
            </li><li><a href="../usecases.php">Use Cases</a>
            </li><li><a href="../download.php">Download</a>
            </li><li><a href="index.html">Documentation</a>
            </li><li class="last"><a href="../about.php">About</a>
         </li></ul>
      </div>
    </div>
    <div class="break hole"></div>
    <div id="content">
      <div id="contentwrapper">
        
  <div class="section" id="module-IM.InfrastructureManager">
<span id="source-documentation"></span><h1>Source Documentation<a class="headerlink" href="#module-IM.InfrastructureManager" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="IM.InfrastructureManager.InfrastructureManager">
<em class="property">class </em><tt class="descclassname">IM.InfrastructureManager.</tt><tt class="descname">InfrastructureManager</tt><a class="reference internal" href="_modules/IM/InfrastructureManager.html#InfrastructureManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.InfrastructureManager.InfrastructureManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Front-end to the functionality of the service.</p>
<dl class="staticmethod">
<dt id="IM.InfrastructureManager.InfrastructureManager.AddResource">
<em class="property">static </em><tt class="descname">AddResource</tt><big>(</big><em>inf_id</em>, <em>radl_data</em>, <em>auth</em>, <em>context=True</em>, <em>failed_clouds=</em><span class="optional">[</span><span class="optional">]</span><big>)</big><a class="reference internal" href="_modules/IM/InfrastructureManager.html#InfrastructureManager.AddResource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.InfrastructureManager.InfrastructureManager.AddResource" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the resources in the RADL to the infrastructure.</p>
<p>Args:</p>
<ul class="simple">
<li>inf_id(int): infrastructure id.</li>
<li>radl(str): RADL description.</li>
<li>auth(Authentication): parsed authentication tokens.</li>
</ul>
<p>Return(list of int): ids of the new virtual machine created.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="IM.InfrastructureManager.InfrastructureManager.AlterVM">
<em class="property">static </em><tt class="descname">AlterVM</tt><big>(</big><em>inf_id</em>, <em>vm_id</em>, <em>radl_data</em>, <em>auth</em><big>)</big><a class="reference internal" href="_modules/IM/InfrastructureManager.html#InfrastructureManager.AlterVM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.InfrastructureManager.InfrastructureManager.AlterVM" title="Permalink to this definition">¶</a></dt>
<dd><p>Get information about a virtual machine in an infrastructure.</p>
<p>Args:</p>
<ul class="simple">
<li>inf_id(int): infrastructure id.</li>
<li>vm_id(int): virtual machine id.</li>
<li>radl(str): RADL description.</li>
<li>auth(Authentication): parsed authentication tokens.</li>
</ul>
<p>Return: a dict with keys</p>
<ul class="simple">
<li>state(str): virtual machine state.</li>
<li>info(str): the information about the virtual machine in RADL format</li>
<li>cloud(str): some information about the cloud provider</li>
</ul>
</dd></dl>

<dl class="staticmethod">
<dt id="IM.InfrastructureManager.InfrastructureManager.CreateInfrastructure">
<em class="property">static </em><tt class="descname">CreateInfrastructure</tt><big>(</big><em>radl</em>, <em>auth</em><big>)</big><a class="reference internal" href="_modules/IM/InfrastructureManager.html#InfrastructureManager.CreateInfrastructure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.InfrastructureManager.InfrastructureManager.CreateInfrastructure" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new infrastructure.</p>
<p>IM creates an infrastructure based on the RADL description and associated it to
the first valid IM user in the authentication tokens.</p>
<p>Args:</p>
<ul class="simple">
<li>radl(RADL): RADL description.</li>
<li>auth(Authentication): parsed authentication tokens.</li>
</ul>
<p>Return(int): the new infrastructure ID if successful.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="IM.InfrastructureManager.InfrastructureManager.DestroyInfrastructure">
<em class="property">static </em><tt class="descname">DestroyInfrastructure</tt><big>(</big><em>inf_id</em>, <em>auth</em><big>)</big><a class="reference internal" href="_modules/IM/InfrastructureManager.html#InfrastructureManager.DestroyInfrastructure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.InfrastructureManager.InfrastructureManager.DestroyInfrastructure" title="Permalink to this definition">¶</a></dt>
<dd><p>Destroy all virtual machines in an infrastructure.</p>
<p>Args:</p>
<ul class="simple">
<li>inf_id(int): infrastructure id.</li>
<li>auth(Authentication): parsed authentication tokens.</li>
</ul>
<p>Return: None.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="IM.InfrastructureManager.InfrastructureManager.GetInfrastructureInfo">
<em class="property">static </em><tt class="descname">GetInfrastructureInfo</tt><big>(</big><em>inf_id</em>, <em>auth</em><big>)</big><a class="reference internal" href="_modules/IM/InfrastructureManager.html#InfrastructureManager.GetInfrastructureInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.InfrastructureManager.InfrastructureManager.GetInfrastructureInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Get information about an infrastructure.</p>
<p>Args:</p>
<ul class="simple">
<li>inf_id(int): infrastructure id.</li>
<li>auth(Authentication): parsed authentication tokens.</li>
</ul>
<p>Return: a dict with keys</p>
<ul class="simple">
<li>cont_out(str): contextualization informmation.</li>
<li>vm_list(list of str): list of virtual machine ids.</li>
</ul>
</dd></dl>

<dl class="staticmethod">
<dt id="IM.InfrastructureManager.InfrastructureManager.GetInfrastructureList">
<em class="property">static </em><tt class="descname">GetInfrastructureList</tt><big>(</big><em>auth</em><big>)</big><a class="reference internal" href="_modules/IM/InfrastructureManager.html#InfrastructureManager.GetInfrastructureList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.InfrastructureManager.InfrastructureManager.GetInfrastructureList" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the infrastructure ids associated to IM tokens.</p>
<p>Args:</p>
<ul class="simple">
<li>auth(Authentication): parsed authentication tokens.</li>
</ul>
<p>Return(list of int): list of infrastructure ids.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="IM.InfrastructureManager.InfrastructureManager.GetVMInfo">
<em class="property">static </em><tt class="descname">GetVMInfo</tt><big>(</big><em>inf_id</em>, <em>vm_id</em>, <em>auth</em><big>)</big><a class="reference internal" href="_modules/IM/InfrastructureManager.html#InfrastructureManager.GetVMInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.InfrastructureManager.InfrastructureManager.GetVMInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Get information about a virtual machine in an infrastructure.</p>
<p>Args:</p>
<ul class="simple">
<li>inf_id(int): infrastructure id.</li>
<li>vm_id(str): virtual machine id.</li>
<li>auth(Authentication): parsed authentication tokens.</li>
</ul>
<p>Return: a dict with keys</p>
<ul class="simple">
<li>state(str): virtual machine state.</li>
<li>info(str): the information about the virtual machine in RADL format</li>
<li>cloud(str): some information about the cloud provider</li>
</ul>
</dd></dl>

<dl class="staticmethod">
<dt id="IM.InfrastructureManager.InfrastructureManager.Reconfigure">
<em class="property">static </em><tt class="descname">Reconfigure</tt><big>(</big><em>inf_id</em>, <em>radl_data</em>, <em>auth</em><big>)</big><a class="reference internal" href="_modules/IM/InfrastructureManager.html#InfrastructureManager.Reconfigure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.InfrastructureManager.InfrastructureManager.Reconfigure" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and update RADL definitions and reconfigure the infrastructure.</p>
<p>Args:</p>
<ul class="simple">
<li>inf_id(int): infrastructure id.</li>
<li>radl_data(str): RADL description, it can be empty.</li>
<li>auth(Authentication): parsed authentication tokens.</li>
</ul>
<p>Return: &#8220;&#8221; if success.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="IM.InfrastructureManager.InfrastructureManager.RemoveResource">
<em class="property">static </em><tt class="descname">RemoveResource</tt><big>(</big><em>inf_id</em>, <em>vm_list</em>, <em>auth</em><big>)</big><a class="reference internal" href="_modules/IM/InfrastructureManager.html#InfrastructureManager.RemoveResource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.InfrastructureManager.InfrastructureManager.RemoveResource" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a list of resources from the infrastructure.</p>
<p>Args:</p>
<ul class="simple">
<li>inf_id(int): infrastructure id.</li>
<li>vm_list(list of int): list of virtual machine ids.</li>
<li>auth(Authentication): parsed authentication tokens.</li>
</ul>
<p>Return(int): number of undeployed virtual machines.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="IM.InfrastructureManager.InfrastructureManager.StartInfrastructure">
<em class="property">static </em><tt class="descname">StartInfrastructure</tt><big>(</big><em>inf_id</em>, <em>auth</em><big>)</big><a class="reference internal" href="_modules/IM/InfrastructureManager.html#InfrastructureManager.StartInfrastructure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.InfrastructureManager.InfrastructureManager.StartInfrastructure" title="Permalink to this definition">¶</a></dt>
<dd><p>Start all virtual machines in an infrastructure previously stopped.</p>
<p>Args:</p>
<ul class="simple">
<li>inf_id(int): infrastructure id.</li>
<li>auth(Authentication): parsed authentication tokens.</li>
</ul>
<p>Return(str): error messages; empty string means all was ok.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="IM.InfrastructureManager.InfrastructureManager.StopInfrastructure">
<em class="property">static </em><tt class="descname">StopInfrastructure</tt><big>(</big><em>inf_id</em>, <em>auth</em><big>)</big><a class="reference internal" href="_modules/IM/InfrastructureManager.html#InfrastructureManager.StopInfrastructure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.InfrastructureManager.InfrastructureManager.StopInfrastructure" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop all virtual machines in an infrastructure.</p>
<p>Args:</p>
<ul class="simple">
<li>inf_id(int): infrastructure id.</li>
<li>auth(Authentication): parsed authentication tokens.</li>
</ul>
<p>Return(str): error messages; empty string means all was ok.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="IM.InfrastructureManager.InfrastructureManager.add_infrastructure">
<em class="property">static </em><tt class="descname">add_infrastructure</tt><big>(</big><em>inf</em><big>)</big><a class="reference internal" href="_modules/IM/InfrastructureManager.html#InfrastructureManager.add_infrastructure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.InfrastructureManager.InfrastructureManager.add_infrastructure" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new Infrastructure and set the ID.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="IM.InfrastructureManager.InfrastructureManager.get_infrastructure">
<em class="property">static </em><tt class="descname">get_infrastructure</tt><big>(</big><em>inf_id</em>, <em>auth</em><big>)</big><a class="reference internal" href="_modules/IM/InfrastructureManager.html#InfrastructureManager.get_infrastructure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.InfrastructureManager.InfrastructureManager.get_infrastructure" title="Permalink to this definition">¶</a></dt>
<dd><p>Return infrastructure info with some id if valid authorization provided.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="IM.InfrastructureManager.InfrastructureManager.get_vm_from_inf">
<em class="property">static </em><tt class="descname">get_vm_from_inf</tt><big>(</big><em>inf_id</em>, <em>vm_id</em>, <em>auth</em><big>)</big><a class="reference internal" href="_modules/IM/InfrastructureManager.html#InfrastructureManager.get_vm_from_inf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.InfrastructureManager.InfrastructureManager.get_vm_from_inf" title="Permalink to this definition">¶</a></dt>
<dd><p>Return VirtualMachie info with some id of an infrastructure if valid authorization provided.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="IM.InfrastructureManager.InfrastructureManager.get_vminfo_res">
<em class="property">static </em><tt class="descname">get_vminfo_res</tt><big>(</big><em>vm</em>, <em>configured</em><big>)</big><a class="reference internal" href="_modules/IM/InfrastructureManager.html#InfrastructureManager.get_vminfo_res"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.InfrastructureManager.InfrastructureManager.get_vminfo_res" title="Permalink to this definition">¶</a></dt>
<dd><p>Get information about a virtual machine.</p>
<p>Args:</p>
<ul class="simple">
<li>vm(<tt class="xref py py-class docutils literal"><span class="pre">IM.VirtualMachine</span></tt>): virtual machine information.</li>
</ul>
<p>Return: a dict with keys</p>
<ul class="simple">
<li>state(str): virtual machine state.</li>
<li>info(str): the information about the virtual machine in RADL format</li>
<li>cloud(str): some information about the cloud provider</li>
</ul>
</dd></dl>

<dl class="attribute">
<dt id="IM.InfrastructureManager.InfrastructureManager.global_inf_id">
<tt class="descname">global_inf_id</tt><em class="property"> = 0</em><a class="headerlink" href="#IM.InfrastructureManager.InfrastructureManager.global_inf_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Next infrastructure id available.</p>
</dd></dl>

<dl class="attribute">
<dt id="IM.InfrastructureManager.InfrastructureManager.infrastructure_list">
<tt class="descname">infrastructure_list</tt><em class="property"> = {}</em><a class="headerlink" href="#IM.InfrastructureManager.InfrastructureManager.infrastructure_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Map from int to <tt class="xref py py-class docutils literal"><span class="pre">InfrastructureInfo</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="IM.InfrastructureManager.InfrastructureManager.logger">
<tt class="descname">logger</tt><em class="property"> = &lt;logging.Logger object at 0x2b85f702bf50&gt;</em><a class="headerlink" href="#IM.InfrastructureManager.InfrastructureManager.logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Logger object.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="IM.InfrastructureManager.InfrastructureManager.remove_old_inf">
<em class="property">static </em><tt class="descname">remove_old_inf</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/IM/InfrastructureManager.html#InfrastructureManager.remove_old_inf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.InfrastructureManager.InfrastructureManager.remove_old_inf" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove destroyed infrastructure.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-IM.auth"></span><dl class="class">
<dt id="IM.auth.Authentication">
<em class="property">class </em><tt class="descclassname">IM.auth.</tt><tt class="descname">Authentication</tt><big>(</big><em>auth_data</em><big>)</big><a class="reference internal" href="_modules/IM/auth.html#Authentication"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.auth.Authentication" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to manage the Authentication in the IM to all the components</p>
<p>This object has a list of dicts with this format:</p>
<p>id = one; type = OpenNebula; host = osenserve:2633; username = user; password = pass
type = InfrastructureManager; username = user; password = pass
type = VMRC; host = http://server:8080/vmrc; username = user; password = pass
id = ec2; type = EC2; username = ACCESS_KEY; password = SECRET_KEY
id = oshost; type = OpenStack; host = oshost:8773; username = ACCESS_KEY; key = SECRET_KEY
id = occi; type = OCCI; host = occiserver:4567; username = user; password = pass</p>
<dl class="docutils">
<dt>Arguments:</dt>
<dd><ul class="first last simple">
<li>auth_data(list of dicts or <tt class="xref py py-class docutils literal"><span class="pre">IM.Authentication</span></tt>): Data to initialize the Authentication object</li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="IM.auth.Authentication.compare">
<tt class="descname">compare</tt><big>(</big><em>other_auth</em>, <em>auth_type</em><big>)</big><a class="reference internal" href="_modules/IM/auth.html#Authentication.compare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.auth.Authentication.compare" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare this auth object with other_auth for the specified type</p>
<dl class="docutils">
<dt>Arguments:</dt>
<dd><ul class="first last simple">
<li>other_auth(<a class="reference internal" href="#IM.auth.Authentication" title="IM.auth.Authentication"><tt class="xref py py-class docutils literal"><span class="pre">Authentication</span></tt></a>): The Authentication object to compare</li>
<li>auth_type(str): The auth type</li>
</ul>
</dd>
</dl>
<p>Returns: a list with all the auth data for the specified id</p>
</dd></dl>

<dl class="method">
<dt id="IM.auth.Authentication.getAuthInfo">
<tt class="descname">getAuthInfo</tt><big>(</big><em>auth_type</em><big>)</big><a class="reference internal" href="_modules/IM/auth.html#Authentication.getAuthInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.auth.Authentication.getAuthInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the auth data of the specified type</p>
<dl class="docutils">
<dt>Arguments:</dt>
<dd><ul class="first last simple">
<li>auth_type(str): The auth type</li>
</ul>
</dd>
</dl>
<p>Returns: a list with all the auth data for the specified type</p>
</dd></dl>

<dl class="method">
<dt id="IM.auth.Authentication.getAuthInfoByID">
<tt class="descname">getAuthInfoByID</tt><big>(</big><em>auth_id</em><big>)</big><a class="reference internal" href="_modules/IM/auth.html#Authentication.getAuthInfoByID"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.auth.Authentication.getAuthInfoByID" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the auth data of the specified id</p>
<dl class="docutils">
<dt>Arguments:</dt>
<dd><ul class="first last simple">
<li>auth_id(str): The auth id</li>
</ul>
</dd>
</dl>
<p>Returns: a list with all the auth data for the specified id</p>
</dd></dl>

<dl class="staticmethod">
<dt id="IM.auth.Authentication.read_auth_data">
<em class="property">static </em><tt class="descname">read_auth_data</tt><big>(</big><em>filename</em><big>)</big><a class="reference internal" href="_modules/IM/auth.html#Authentication.read_auth_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#IM.auth.Authentication.read_auth_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a file to load the Authentication data.
The file has the following format:</p>
<p>id = one; type = OpenNebula; host = osenserve:2633; username = user; password = pass
type = InfrastructureManager; username = user; password = pass
type = VMRC; host = http://server:8080/vmrc; username = user; password = pass
id = ec2; type = EC2; username = ACCESS_KEY; password = SECRET_KEY
id = oshost; type = OpenStack; host = oshost:8773; username = ACCESS_KEY; key = SECRET_KEY
id = occi; type = OCCI; host = occiserver:4567; username = user; password = pass</p>
<dl class="docutils">
<dt>Arguments:</dt>
<dd><ul class="first last simple">
<li>filename(str): The filename to read</li>
</ul>
</dd>
</dl>
<p>Returns: a list with all the auth data</p>
</dd></dl>

</dd></dl>

</div>


      </div>
    </div>
</div>

    <div class="footer">
        &copy; Copyright 2014, Miguel Caballer Fernandez.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>